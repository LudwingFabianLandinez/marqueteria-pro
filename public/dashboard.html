<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Control - Marqueter√≠a</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* ESTRUCTURA PRINCIPAL TIPO FOTO */
        .dashboard-container {
            display: grid;
            grid-template-columns: 1fr 350px; /* Tabla grande, Directorio peque√±o */
            gap: 20px;
            padding: 20px;
        }

        /* ESTILO DE LOS BOTONES SUPERIORES */
        .controls-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .btn-modern {
            border: none;
            padding: 10px 15px;
            border-radius: 6px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            color: white;
        }

        .btn-reg-prov { background: #8e44ad; }
        .btn-nueva-compra { background: #27ae60; }

        /* TARJETA DEL DIRECTORIO (LA OSCURA DE LA FOTO) */
        .directorio-card {
            background: #1e293b; /* Color oscuro de tu foto */
            border-radius: 12px;
            color: white;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            height: fit-content;
        }

        .directorio-header {
            background: #10b981; /* Verde esmeralda de tu foto */
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: bold;
        }

        #directorioProveedores {
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        /* CADA PROVEEDOR DENTRO DE LA CAJA OSCURA */
        .provider-item {
            background: #334155;
            padding: 12px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .provider-icon {
            background: #8e44ad;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .provider-info b { display: block; font-size: 0.9rem; }
        .provider-info span { font-size: 0.8rem; color: #cbd5e1; }

        /* AJUSTE TABLA */
        .table-container {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        @media (max-width: 1000px) {
            .dashboard-container { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <aside class="sidebar" id="sidebar">
        <div class="logo"><h1>LA CHICA MORALES</h1></div>
        <nav class="menu">
            <a href="dashboard.html" class="menu-item active">üè† Inicio</a>
            <a href="quotes.html" class="menu-item">üí∞ Cotizaci√≥n</a>
            <a href="history.html" class="menu-item">üìú Ventas</a>
            <a href="purchases.html" class="menu-item">üì¶ Compras</a>
        </nav>
    </aside>

    <main class="main-content">
        <header class="page-header">
            <h1>Control de Existencias y Compras</h1>
        </header>

        <div class="controls-buttons">
            <button class="btn-modern btn-reg-prov" onclick="location.href='providers.html'">
                <i class="fas fa-user-plus"></i> Registrar Proveedor
            </button>
            <button class="btn-modern btn-nueva-compra" onclick="window.abrirModalCompra()">
                <i class="fas fa-shopping-cart"></i> Nueva Compra
            </button>
        </div>

        <div class="dashboard-container">
            <div class="table-container">
                <table class="inventory-table">
                    <thead>
                        <tr>
                            <th>Material</th>
                            <th>Medidas</th>
                            <th>Costo M¬≤</th>
                            <th>Stock</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="inventoryTable"></tbody>
                </table>
            </div>

            <div class="directorio-card">
                <div class="directorio-header">
                    <i class="fas fa-address-book"></i> Directrio de Provedores
                </div>
                <div id="directorioProveedores">
                    <p style="text-align:center; padding:10px;">Cargando...</p>
                </div>
            </div>
        </div>
    </main>

    <script src="./js/api.js"></script>
    <script src="./js/inventory_v7.js"></script>
    <script>
        // Funci√≥n para abrir el modal que ya ten√≠as
        window.abrirModalCompra = () => document.getElementById('modalCompra').style.display='block';
    </script>
</body>
</html>